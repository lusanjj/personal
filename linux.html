<div class="ql-editor" data-gramm="false" contenteditable="false"><h1><strong class="ql-size-22px">Linux基础</strong></h1><h2><strong class="ql-size-22px">1.操作系统</strong></h2><h3><strong class="ql-size-22px">1. 操作系统的定义：</strong></h3><p>没有安装操作系统的计算机称为裸机，操作系统可以直接跟硬件打交道，如果在裸机上运行自己所编写程序，必须用机器语言来书写程序。</p><p><strong>系统调用：</strong>将指令翻译成01机械码</p><p><strong>操作系统的作用</strong></p><ol><li>直接控制不同的硬件进行工作</li><li>把操作硬件的方法封装成系统调用供应用程序来调用</li></ol><p><strong>例子：</strong>用户播放音乐的流程</p><ol><li>将歌曲文件从硬盘中加载到内存</li><li>使用声卡对音乐数据进行解码</li><li>将解码后的数据发送给音箱</li></ol><h3><strong>2.操作系统分类</strong></h3><h4><strong>1.桌面操作系统</strong></h4><ul><li>安装到电脑上的操作系统</li><li class="ql-indent-1">windows系列（应用软件多，用户群体大，安全性稳定性不太好）</li><li class="ql-indent-1">mac OS（适用于开发人员，安全性与稳定性很强）</li><li class="ql-indent-1">Linux（应用软件少）</li></ul><h4><strong>2.服务器操作系统</strong></h4><ul><li>服务器就是一个硬件，在服务器安装操作系统后可以对服务器进行维护和管理了，可通过软件远程管理）</li><li class="ql-indent-1">Linux(安全稳定，占用率高，免费，提供相当齐全的配套软件)</li><li class="ql-indent-1">windows server（占有率低，付费）</li></ul><h4><strong>3.移动设备操作系统</strong></h4><ul><li>移动设备领域，手机平板</li><li class="ql-indent-1"><code>iOS</code></li><li class="ql-indent-1">Android（基于Linux）</li></ul><h4><strong>4.嵌入式操作系统</strong></h4><ul><li>智能硬件，智能家居，智能机器人开发</li><li class="ql-indent-1">Linux</li></ul><h3><strong>3.虚拟机介绍</strong></h3><ul><li>定义：本质上是软件，可安装在操作系统之上，可以模拟完整的硬件功能，可在虚拟机上再安装一套操作系统</li></ul><h2><strong>2. Linux基本知识</strong></h2><h3><strong>1. Linux内核及发行版</strong></h3><ul><li><strong>内核</strong>：系统的心脏，是运行程序和管理像磁盘和打印机等硬件设备的核心程序，提供了一个再裸设备与应用程序间的抽象层</li><li class="ql-indent-1">终端命令：为了监测系统调用是否正确同时方便自己对硬件的操作，包装了一个又一个终端命令</li><li class="ql-indent-1">由终端命令来调用系统调用来间接操作电脑硬件部分</li><li class="ql-indent-1"><br></li><li>发行版本：借用Linux操作系统开发了另外一套应用程序，包含桌面系统，基本图形界面。（发行版直接通过Linux提供的系统调用来间接调用硬件，在Linux内核基础上开发属于自己的操作系统）</li><li class="ql-indent-1">例如：<code>Ubuntu</code>，<code>Redhat</code>，<code>Fedora</code></li><li class="ql-indent-1">Linux发行版本包括桌面环境、办公套件、媒体播放器、数据库等应用软件（底层内核还是Linux内核）</li></ul><p><br></p><h3><strong>2. Linux操作系统文件和目录结构</strong></h3><p><strong>windows操作系统</strong>：本质上单用户系统，指定每个盘幅放置相应内容</p><blockquote>在每个盘幅下可以按照当前用户的意愿存放相应内容</blockquote><p><strong>Linux多用户操作系统：</strong></p><p>在<code>Ubuntu</code>中只有一个硬盘，会根据自己的需要创建不同的文件（最重要的目录：home目录，每个用户登录进来在自己家里面想干什么干什么，但不允许进入别的用户中）</p><p><code>ubuntu</code>菜单栏在最上面</p><p><br></p><blockquote>多用户操作系统，每个用户都在home文件夹下根据需要建立目录处理文件夹</blockquote><h2><strong>3. Linux基本命令</strong></h2><ul><li>放大字体：<code>ctrl +</code>，缩小字体：<code>ctrl +</code></li><li>常见Linux命令基本使用(终端命令)</li><li class="ql-indent-1"><code>ls</code>-list-查看当前文件夹下的所有内容</li><li class="ql-indent-1"><code>pwd</code>-print work directory-查看当前所在工作目录</li><li class="ql-indent-1"><code>cd (目录名）</code>-change directory-切换目录</li><li class="ql-indent-1"><code>touch(文件名)</code>-touch-建立文件r</li><li class="ql-indent-1"><code>mkdir(目录名)</code>-make directory-创建目录（文件夹）</li><li class="ql-indent-1"><code>rm（文件名)</code>-remove-删除文件</li><li class="ql-indent-1"><code>clear</code>-clear-清屏</li><li>终端命令格式</li><li>终端命令格式<code>command [-options] [parameter]</code>（必须要空格）</li><li class="ql-indent-2"><code>command</code>命令名，相应功能英文单词或缩写</li><li class="ql-indent-2"><code>[-options]</code>：选项，可以对命令进行控制，也可以省略（例如re在不同选项下可以删除目录或文件，删除目录需要加一个-r）</li><li class="ql-indent-2"><code>parameter</code>：传的参数（例如touch，后要加入想要生成的文件的名字 ）</li><li class="ql-indent-1"><code>[]</code>：代表可选（可有可无）</li><li>查阅终端命令帮助信息</li><li class="ql-indent-1"><code>command --help</code>可以查看command命令的帮助信息</li><li class="ql-indent-1"><code>man command</code>查阅终端命令的使用手册（利用相应键查阅）</li></ul><h2><strong>4.文件和目录命令</strong></h2><h3><strong>1.终端实用技巧</strong></h3><ul><li>自动补全</li><li class="ql-indent-1">在敲<code>文件</code>/<code>目录</code>/<code>命令</code>的前几个字母后，按下<code>tap</code>键可以补全</li><li class="ql-indent-1">若还存在其他的<code>文件</code>/<code>目录</code>/<code>命令</code>，再按一下<code>tap</code>系统可以提示可能存在的命令（按第一下可能没反应）</li><li>层及使用过的命令</li><li class="ql-indent-1">可以利用上下光标键可以在曾经使用过的命令上来回切换</li><li class="ql-indent-1">如果想要退出选择，并且不想执行当前选中的命令，可以按<code>ctrl+c</code>	</li></ul><h3><strong>2. ls命令使用扩展</strong></h3><ul><li>Linux下文件和目录的特点</li><li class="ql-indent-1">Linux文件或目录名称最长可以有<code>256</code>个字符</li><li class="ql-indent-1">以<code>.</code>开头的文件为隐藏文件，需要用-a参数才能显示（a表示all，将所有文件列出，包括隐藏文件）</li><li class="ql-indent-1"><code>.</code>代表当前目录(<code>cd.</code>进入当前目录，目录不会改变)</li><li class="ql-indent-1"><code>..</code>代表上一级目录（<code>cd ..</code>进入上一级目录）</li><li>ls扩展应用</li><li>参数含义ls -a显示指定目录下的所有子目录和文件，包括隐藏文件ls -l以列表方式显示文件详细信息ls -h配合<code>-l</code>以人性化的方式来显示文件大小(以k显示)</li><li>可以不用空格，<code>ls -lh</code>与<code>ls -l -h</code>功能一致，<code>ls -lha</code>可以将所有文件显示（home目录中隐藏文件和隐藏文件夹用来安装和配置系统软件）</li><li>计算机中文件大小表示</li><li class="ql-indent-1"><br></li><li>ls和通配符的使用(多文件下快速找到需要文件)</li><li>通配符含义*代表任意个数个字符？代表任意1个字符，至少1个[]代表可以匹配字符组中任意一个[a,b,c]匹配a，b，c中任意一个[a-f]匹配从a到f范围内的任意一个</li></ul><ol><li class="ql-indent-1"><code>ls 1*</code>可以将1开头的文件都找到，<code>ls *1.txt</code>可以将1结尾的文件找到(*代表任意字符，包括0)</li></ol><ul><li><br></li></ul><ol><li><code>ls ?1?.txt</code>可以将所有至少3个字符组成中间为1的文件找到（？）</li></ol><blockquote class="ql-indent-1">例如：<code>ls 1*1.txt</code>可以包括<code>11.txt</code>，但<code>ls 1?1.txt</code>不能找到<code>11.txt</code></blockquote><ol><li class="ql-indent-1"><code>ls [12345]12.txt</code>可以将后两个字符为12，第一个字符位于中括号中所有文件找到，若为<code>ls [1-5]23.txt</code>可以将开头为1到5，后面两个为23的文件找到。</li></ol><h3><strong>3. </strong><code><strong>cd</strong></code><strong>命令使用扩展</strong></h3><p>命令含义<code>cd</code>切换到当前用户主目录/home/用户目录<code>cd ~</code>切换到当前用户主目录/home/用户目录(~表示家目录)<code>cd .</code>保持在当前目录不变<code>cd ..</code>切换到上级目录<code>cd-</code>可以在最近两次工作目录之间来回切换</p><p><code>cd ~/Documents</code>:~表示家目录，/表示该目录下的文件，整个表示切换到家目录下的Document中去，再用<code>cd -</code>可以回到执行去Document前的目录</p><ul><li><strong>绝对路径：</strong>在输入路径时，最前面是/或者~，表示从根目录/家目录开始的具体目录位置（/指根目录， ~指家目录）</li><li><strong>相对路径：</strong>相对于，当前目录的位置，例如<code>cd ..</code>回到前一个目录，不从家目录开始，在最前面没有/或者~</li></ul><h3><strong>4.创建和删除操作</strong></h3><ul><li><code>touch</code>：创建文件和修改文件时间</li><li class="ql-indent-1">如果文件不存在，建立一个空白文件</li><li class="ql-indent-1">如果存在，可以修改最后一次修改时间、</li><li><code>mkdir</code>创建一个新的目录</li><li class="ql-indent-1">利用-p可以快速创建多个目录(递归产生多个文件 )</li></ul><blockquote>同一个文件中，无论是文件还是文件夹名字不允许重名</blockquote><ul><li><code>rm</code>直接删除，不可恢复（不像文件目录会放到垃圾桶中）</li><li class="ql-indent-1"><code>-f</code>（强制删除，不会有任何提示）</li><li class="ql-indent-1">加<code>-r</code>可以删除目录(包括该目录下的所有子目录)</li><li class="ql-indent-1">同样适用于通配符，其中<code>rm -r *</code>将删掉所有文件</li></ul><h2><strong>5.拷贝和移动文件</strong></h2><ul><li><code>tree</code>命令</li><li><code>tree [目录名]</code>      可以以树状图列出文件目录结构</li><li class="ql-indent-2">单个tree从<code>.</code>开始，点表示当前目录</li><li class="ql-indent-1"><code>tree ~</code>表示从根目录开始</li><li class="ql-indent-1"><code>-d</code>只显示目录</li><li><code>cp</code> 复制文件</li><li class="ql-indent-1"><code>cp ~/Document/readme.txt .</code>将根目录下的<code>readme</code>文件复制到当前页面下（若复制后文件名不发生改变，只需要指定路径即可，敲一个<code>.</code>）</li><li class="ql-indent-1">若当前目录已有，会被替换掉，若怕覆盖源文件，可以加入一个<code>cp -i</code>会进行覆盖</li><li class="ql-indent-1">若要复制目录/文件，要使用<code>cp -r</code></li><li><code>mv</code>移动文件或目录</li><li class="ql-indent-1"><code>mv 源文件 目标文件</code>无论是移动文件还是目录不需要加其他</li><li><code>mv reame.txt demo.txt</code>能够实现重命名，若目标文件存在，将覆盖目标文件</li><li class="ql-indent-1">可以加一个<code>-i</code>可以有<strong>覆盖提醒</strong></li></ul><h2><strong>6.文件内容命令</strong></h2><h3><strong>1.查看文件内容</strong></h3><p>命令作用<code>cat 文件名</code>查看文件、创建文件、文件合并、追加文件内容等功能（查看内容较少内容）<code>more 文件名</code>分屏显示文件内容（按空格可以将后半部分内容显示出来）<code>grep 搜索文本 文件名</code>搜索文本文件内容</p><ul><li>使用<code>more</code>后的操作键</li><li>操作键功能空格显示手册页的下一页Enter 键一次滚动手册页的一行b回滚一屏f前滚一屏q退出</li><li><code>cat</code>命令拓展</li><li class="ql-indent-1"><code>-b</code>  不给空行编号，输出非空行</li><li class="ql-indent-1"><code>n</code>将每一行的行号标识出</li><li><code>grap 搜索文本 文件名</code>搜索文本文件内容</li></ul><p>选项含义-n显示匹配及行号-v显示不包含匹配文本的所有行-i忽略大小写</p><p> 如搜索中有空号，需要用引号引起来</p><p>模式选择</p><p>参数含义^a行首搜索，以a开头的行K$以K结尾的行</p><p>##7.其他命令</p><h3><strong>2. </strong><code><strong>echo</strong></code><strong>和重定向</strong></h3><h4><strong>1.</strong><code><strong>echo</strong></code><strong>文字内容</strong></h4><ul><li><code>echo</code>会在终端中显示参数指定的文字 ，通常会和重定向联合使用</li></ul><h4><strong>2.重定向&gt;和&gt;&gt;</strong></h4><ul><li>Linux允许将命令执行结果重定向到一个文件</li><li>将本应显示在终端的内容输出/追加到指定文件中</li><li><code>&gt;</code>表示输出，会覆盖文件原有内容</li><li><code>&gt;&gt;</code>表示追加，会将内容追加到已有文件末尾</li></ul><h3><strong>3.管道|</strong></h3><ul><li>Linux允许一个命令的输出通过管道做为另外一个命令的输入</li><li>常用管道命令有</li><li class="ql-indent-1"><code>more</code> 分屏显示内容（一个命令通过|接more可以直接分配显示结果）</li><li class="ql-indent-1"><code>grep</code>在命令执行结果的基础上查询指定的文本（直接搜索输出）</li></ul><h2><strong>7.远程管理命令</strong></h2><h3><strong>1.关机/重启</strong></h3><p><code>shutdown</code>命令可以安全关闭或者启动系统</p><ul><li>加上<code>-r</code>表示重新启动</li><li>若不指定选项和参数，默认1分钟内关闭电脑</li><li class="ql-indent-1"><code>shutdown -r now</code> 表示重新启动操作系统</li><li class="ql-indent-1"><code>shutdown now</code>立刻关机</li><li class="ql-indent-1"><code>shutdown 20:25</code>  在 <code>20:25</code>分关机</li><li class="ql-indent-1"><code>shutdown +10</code>在输入命令后10分钟会关键</li><li class="ql-indent-1"><code>shutdown -c</code>取消重新启动</li></ul><h3><strong>2.查看网卡和</strong><code><strong>IP</strong></code><strong>地址</strong></h3><p><strong>网卡</strong></p><ul><li>网卡是一个专门负责网络通讯的硬件设备</li><li><code>IP</code>地址是设置在网卡上的地址信息</li></ul><blockquote>我们可以把<strong>电脑</strong>比作<strong>电话</strong>，<strong>网卡</strong>相当于<strong>SIM卡</strong>，<code>IP</code>地址相当于电话号码</blockquote><p><code><strong>IP地址</strong></code></p><ul><li>每台联网的电脑上都有<code>IP</code>地址，是保证电脑直接正常通讯的重要设置，每台电脑<code>IP地址</code>不同</li><li>电脑间通讯需要<code>IP</code>地址</li></ul><blockquote>利用<code><strong>ifxonfig</strong></code>可以查看/配置计算机当前的网卡配置信息(<code>IP地址</code>)</blockquote><blockquote>利用<code>ping ip地址</code>可以检测目标<code>ip</code>地址的链接是否正常</blockquote><h4><strong>2.1 </strong><code><strong>ifconfig</strong></code></h4><pre class="ql-syntax" spellcheck="false">#查看网卡的配置信息
$ ifconfig

#查看网卡对应的IP地址
$ ifconfig | grep inet （利用管道已经grep文本搜索快速查找IP地址）
</pre><blockquote>提示：一台计算机有可能会有一个物理网卡和多个虚拟网卡，在Linux中物理网卡的名字通常以<code>ensXX</code>表示</blockquote><ul><li><code>127.0.0.1</code>被称为<strong>本地回环/环回地址</strong>，一般用来测试本机网卡是否正常</li></ul><h4><strong>2.2 </strong><code><strong>ping</strong></code></h4><pre class="ql-syntax" spellcheck="false">#检测到目标主机是否连接正常
$ ping IP地址

# 检测本地网卡工作正常（本地回环地址）
$ ping 127.0.0.1
</pre><ul><li><code>ping</code> 一般用于检测当前计算机到目标计算机之间的网络是都流畅，数值越大，速度越慢</li><li><code>ping</code>的工作原理与潜水艇声纳很像，<code>ping</code>这个命令就是取自于声纳的声音</li><li>网络管理员之间也常将<code>ping</code>作为动词——ping一下计算机，看一下他是否还开着</li></ul><p>原理：网络上的机器都有唯一确定的<code>IP</code>地址，我们给目标<code>IP</code>地址发送一个数据包，对方就要返回一个数据宝，根据返回的数据包以及时间，我们可以确定目标主机的存在（时间越短网速越好）</p><blockquote>提示：在Linux中，想要终止一个程序的进行，绝大多数可以用<code>ctrl + C</code></blockquote><h3><strong>3.</strong><code><strong>SSH</strong></code><strong>工作方式简介</strong></h3><p>命令作用<code>ssh 用户@ip</code>关机/重新启动<code>scp 用户名@ip:文件名或路径 用户名@ip:文件名或路径</code>远程复制文件</p><h4><strong>3.1 </strong><code><strong>ssh</strong></code><strong>基础</strong></h4><p>在Linux中SSH是非常常用的工具，通过SSH客户端，我们可以连接到允许了SSH服务器的远程机器上</p><p><br></p><ul><li>SSH客户端是一种使用<code>Secure Shell(SSH)</code>协议连接到远程计算机的软件程序</li><li><code>SSH</code>目前较可靠，专为远程登录会话和其他网路服务提供安全协议</li><li class="ql-indent-1">可以有效放置远程管理过程中的信息泄露</li><li class="ql-indent-1">可以对传输数据进行加密，也能够放置<code>DNS</code>欺骗和<code>IP</code>欺骗</li><li class="ql-indent-1"><code>SSH</code>的另一项优点是传输的数据是可以进行压缩的，所有可以加快快传输速率</li></ul><p><strong>(1)域名和端口号</strong></p><p><strong>域名</strong></p><ul><li>由一串用点分隔的名字组成，例如<code>www.itcast.cn</code></li><li>是<code>IP</code>地址的别名，方便用户记忆</li></ul><p><strong>端口号</strong></p><ul><li><code>IP地址</code>：通过<code><strong>IP地址</strong></code>找到网络上的<strong>计算机</strong></li><li>端口号：通过<strong>端口号</strong>可以找到计算机运行的<strong>应用程序</strong></li><li class="ql-indent-1">SSH服务号的默认端口号是22，如果是默认端口号，在连接的时候，可以省略</li><li>常见服务端口号列表</li></ul><p>服务端口号<code>SSH</code> 服务器22<code>Web</code> 服务器80<code>HTTPS</code>443<code>FTP</code> 服务器21</p><p>当利用地址找到服务器是不够的，需要利用服务器上的一个软件——Web服务器软件，由这个软件给用户提供访问想看到的内容（<code>ip</code>：80）</p><blockquote>域名是<code>IP</code>地址的别名，利用域名能很方便找到网络上的计算机</blockquote><blockquote>端口号是找到计算机后，确认计算机上是否有需要的服务器软件(没有指名端口号使用默认端口号)</blockquote><p><strong>(2) SSH客户端简单使用</strong></p><p><code>ssh [-p port] user@remote</code></p><ul><li><code>user</code>是在远程机器上的用户名，如果不知道的话默认当前用户</li><li><code>remote</code>是远程机器的地址，可以是<code>IP</code>/域名，或者是别名</li><li><code>port</code>是SSH Server监听的端口，如果不指定，就默认<code>22</code></li></ul><blockquote><strong>提示</strong>：</blockquote><ul><li>使用<code>exit</code>退出当前用户的登录</li></ul><blockquote>注意：</blockquote><ul><li><code>ssh</code>这个终端命令只能在<code>Linux</code>或者<code>UNIX</code>系统下使用</li><li>如果在<code>Windows</code>系统下，可以安装<code>PuTTY</code>或者<code>XShell</code>客户端软件即可</li></ul><p><strong>（3）</strong><code><strong>Windows</strong></code><strong>下</strong><code><strong>SSH</strong></code><strong>客户端的安装</strong></p><ul><li><code>Putty</code>,<code>XShell</code></li><li>可以从官网直接下载</li></ul><h4><strong>3.2 scp</strong></h4><ul><li><code>scp</code>是<code>secure cope</code>，是一个在Linux下用来进行的<strong>远程拷贝文件的命令</strong></li><li>它的地址格式与ssh基本相同，但需要注意，在指定端口时用到时的写-P而不是小写的</li></ul><p><br></p><p><code>scp -P port 源文件 目标文件</code> </p><pre class="ql-syntax" spellcheck="false">#把本地当前目录下的01.py文件复制到远程家目录下的 Desktop/01.py
##注意`:`后面的路径如果不是绝对路径，则以用户的家作为参照路径
scp -P port 01.py user@remote:Desktop/01.py

# 把远程 家目录下的Desktop.py文件复制到本地当前目录下的01.py
scp -r demo user@remote:Desktop/01.py .

#加上 -r选项可以传送文件夹
#把当前目录下的demo文件夹复制到远程家目录下的Desktop
scp -r demo user@remote:Desktop

#把远程家目录下的Desktop复制到当前目录下的demo文件
scp -r user@remote:Desktop demo
</pre><p>选项含义-r若给出的源文件时目录文件，则<code>scp</code>。 若递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名-P若远程SSH服务器的端口不是22，需要使用大写字母-P选项指定端口</p><ul><li><code>scp</code>远程拷贝文件，与<code>cp</code>命令基本一致,若拷贝目录加一个-r</li><li><code>scp</code>这个终端命令只能在<code>`Linux</code>或者<code>unix</code>系统下使用</li><li>如果在<code>Windows</code>系统中，可以安装<code>PuTTY</code>,使用<code>pscp</code>命令工具或者安装<code>FileZilla</code>使用<code>FTP</code>进行文件传输（此时不是SSH服务，而是FTP服务，端口号需要设置为21）</li></ul><h4><strong>3.3 SSH高级</strong></h4><ul><li>提示SSH配置信息都保存在家目录下的<code>.ssh</code>下（隐藏文件）</li><li><code>.ssh</code>文件保存了ssh所有配置信息，当允许授权后，主机地址信息保存在文件中，当下一次再使用ssh连接时就不会再有提示了</li></ul><p><strong>（1）免密码登录</strong></p><p><strong>步骤</strong></p><ul><li>配置公钥</li><li class="ql-indent-1">执行<code>ssh-keygen</code>即可配置SSH钥匙，一路回车即可（加密文件）</li><li>上传公钥到服务器</li><li class="ql-indent-1">执行	<code>ssh-copy-id -p port user@remote</code>,可以让远程服务器记住我们的公钥（将<code>.pud</code>文件传过去相应的.ssh文件下）</li></ul><p>示意图</p><p><br></p><ul><li>客户端用私钥加密传给服务器，服务器用公钥解密；</li><li>如果服务器需要传递数据给客户端，利用公钥加密传至客户端利用私钥解密即可</li></ul><p><strong>(2)配置别名</strong></p><p>每次输入<code>ssh -p port user@remote</code>比较麻烦，可以配置一个别名，例如用<code>ssh mac</code>来代替上面一场栓，需要在.ssh中创建<code>config</code>为文件<code>~/.ssh/config</code>里面追加一下内容（用<code>gedit</code>打开）</p><pre class="ql-syntax" spellcheck="false">Host 别名
	HostName 远程服务器ip地址
	User 远程计算机用户名
	Port 22
</pre><p>保存之后，可以用<code>ssh mac</code>实现远程登录了，<code>scp</code>同样可以使用</p><blockquote>例子：<code>scp -r(拷贝文件夹) ~/Desktop(家目录下的Desktop)  myserver：Desktop/demo（在远程服务器中创建一个demo文件夹存放拷贝内容）</code></blockquote><h2><strong>8.用户权限相关的终端命令</strong></h2><h4><strong>1.用户和权限基本概念</strong></h4><h5><strong>1.1用户与权限</strong></h5><ul><li><strong>用户</strong>是Linux系统工作中重要的一环，用户管理包括<strong>用户</strong>与<strong>组</strong>管理</li><li>在Linux系统中，不论是由本机或是远程登录系统，每个系统都<strong>必须拥有一个账号</strong>，并且<strong>对于不同系统资源拥有不同使用权限</strong></li><li>对文件/目录权限包括</li></ul><p>权限缩写数字代号读r4写w2执行x1无权限-0</p><ul><li>在Linux中，可以指定<strong>每一个用户</strong>针对不同的文件或目录的<strong>不同权限</strong></li></ul><h5><strong>1.2 组概念</strong></h5><ul><li>在实际应用中，可以预先针对组设置好权限，然后将不同的用户添加到对应的组中后，每个用户都具有相应权限，从而不同一次为每一个用户设置权限</li></ul><blockquote>组用来简化权限的设置，对于相同权限的用户可以放在组里面对组进行权限设置即可</blockquote><h5><strong>1.3 ls-l拓展</strong></h5><ul><li>ls可以查看文件夹下文件的详细信r息，从左往右依次是</li><li class="ql-indent-1"><strong>权限</strong>，第1个字符如果是d表示目录</li><li><strong>硬链接数</strong>，就是有多少种方式，可以访问到当前目录/文件 </li><li class="ql-indent-2">绝对路径</li><li class="ql-indent-2">在该目录用<code>cd .</code>可以到达</li><li class="ql-indent-1">在其子目录用<code>cd ..</code>到达（子目录越多硬件接触越多）</li><li class="ql-indent-1"><strong>拥有者</strong>，家目录下文件/没目录的拥有者通常是当前用户</li><li class="ql-indent-1"><strong>组名</strong> </li><li class="ql-indent-1"><strong>大小</strong></li><li class="ql-indent-1"><strong>时间</strong>：创建修改的时间</li><li class="ql-indent-1"><strong>名称</strong>：文件或者文件夹名称</li></ul><p><br></p><blockquote>r\ w \ -对应可读、可写、无权限</blockquote><h5><strong>1.4 </strong><code><strong>chamod</strong></code><strong>修改权限</strong></h5><ul><li><code>chanmod</code>可以修改<strong>用户/组</strong>对<strong>文件/目录</strong>的权限</li><li>命令格式如下：<code>chmod +/-rwx 文件名|目录名</code></li></ul><blockquote>Linux终端执行方式：<code>./文件名</code>(<code>.</code>表示当前目录)</blockquote><p>目录没有可执行权限就无法使用相应终端命令</p><p>若去掉目录可读可写权限，可以访问（<code>cd</code>）没有可读权限无法读取目录的文件内容（<code>ls</code>不成功），无法创建文件（<code>tough</code>不成功）</p><h5><strong>1.5 超级用户</strong></h5><ul><li>Linux系统中<code>root</code>账号通常用于系统的维护和管理，对操作系统的所有资源具有所有访问权限</li><li>在大多数版本的Linux中，不推荐直接登录root账号进入系统（怕不小心删除重要系统文件）</li><li>在安装Linux时会创造一个用户账号</li></ul><p><strong>sudo</strong></p><ul><li><code>su</code>和<code>substitute user</code>的缩写，表示使用里另一个用户的身份（供标准用户执行某些系统管理相关命令）</li><li><code>sudo</code>命令用来以其他身份执行命令，预设身份为<code>root</code></li><li>用户使用<code>root</code>时，必须先输入密码，之后有5分钟的有效期限，超过期限必须重新输入密码</li></ul><blockquote>若未经授权的用户企图使用<code>sudo</code>，则会发出警告邮件给管理员</blockquote><h4><strong>2.组管理</strong></h4><blockquote>创建删除组的终端命令必须通过<code>sudo</code>执行</blockquote><p>命令作用<code>groupadd</code>添加组<code>groupdel</code>删除组<code>cat  /ect/group</code>确认组的信息（用etc查看etc下的group文件）<code>chagrp -R</code> 组名 文件/目录名修改文件/目录所属组</p><blockquote>与组相关的文件存在etc下的group文件</blockquote><h4><strong>3.用户管理</strong></h4><ul><li><strong>提示：创建用户/删除用户/修改其他用户密码的终端命令都需要通过</strong><code><strong>sudo</strong></code><strong>执行</strong></li></ul><h5><strong>3.1创建用户/设置密码/删除用户</strong></h5><p>命令作用说明<code>useradd -m -g 组 新建用户名</code>添加新用户-m 自动建立家目录     -g 指定用户所在的组，否则会建立一个同名的组<code>passwd 用户名</code>设置用户密码如果时普通用户，直接用passwd可以直接修改字节的账户密码<code>userdel -r 用户名</code>删除用户-r 选项会自动删除用户家目录<code>cat      /ect/passwd | grep 用户名</code>确认用户信息新建用户后，用户信息会保存在<code>/ect/passwd</code>文件中</p><blockquote>提示</blockquote><ul><li>创建用户时，如果忘记添加-m选项指定新用户的家目录——<strong>最简单的方法据说删除用户</strong>，重新建档</li><li>创建目录时，默认会创建一个和用户名同名的组名</li><li>用户信息保存在<code>/ect/passwd</code>文件中</li></ul><h5><strong>3.2查看用户信息</strong></h5><p>命令作用id[用户名]查看用户<code>UID</code>和<code>GID</code>信息，若只有一个id后面没有其他用户查看当前所在用户信息<code>who</code>查看当前所有用户的登录列表以及用户来源<code>whoami</code>查看当前登录用户的账户名</p><p><strong>passwd</strong>文件</p><p><code>/ect/passwd</code>文件存放的是用户信息，由<strong>6个分号</strong>组成的<strong>7个信息</strong>，分别是</p><ol><li>用户名</li><li>密码（x表示加密的密码）</li><li><code>UID</code>（用户标识,用户代号，位于etc/passwd中）</li><li><code>GID</code>（组标识，位于/etc/group）</li><li>用户全名或本地账号</li><li>家目录</li><li>登录使用的Shell，就是登录之后，使用终端命令，<code>ubuntu</code>默认为<code>dash</code></li></ol><blockquote>定义一个用户可以放到不同组内，这个用户就能拥有不同组具有的权限</blockquote><p><code><strong>usermod</strong></code></p><ul><li>可以用来设置用户的主组以及附加组和<strong>登录Shell</strong></li><li>主组：通常在新建用户时指定，在<code>etc/passwd</code>GID对应的组</li><li>附加组:在<code>etc/group</code>中最后一列标识该组的用户列表，用于指定用户的<strong>附加权限</strong></li></ul><blockquote>提示：设置了用户附加组之后，需要重新登录才能生效</blockquote><pre class="ql-syntax" spellcheck="false"># 修改用户的主组（passwd中的GID）
usermod -g 组 用户名

#修改用户的附加组 
usermod -G 组 用户名     #通常利用G增加附加组

#修改用户登录  Shell
usermod -s /bin/bash
</pre><ul><li>注意，默认使用<code>useradd</code>添加用户时没有权限使用<code>sudo</code>和<code>root</code>身份执行命令的，可以使用以下命令，将用户添加到<code>sudo</code>附加组中</li></ul><p><code>usermod -G sudo 用户名</code></p><blockquote>Shell为输入终端命令的窗口</blockquote><p><strong>which</strong></p><blockquote>提示</blockquote><ul><li><code>/etc/passwd</code>用于保存用户信息的文本文件（不可执行）</li><li><code>/usr/bin/passwd</code>是用于修改用户密码的程序</li><li><code>which</code>命令可以查看执行命令所在位置<code>which 命令</code></li></ul><p><strong>bin和sbin</strong></p><ul><li>在Linux中，绝大多数可执行文件都是保存在<code>/bin</code>,<code>/sbin</code>,<code>usr/bin</code>,<code>/usr/sbin</code></li><li><code>/bin</code>是二进制执行文件目录，主要用于具体应用</li><li><code>/sbin</code>（system binary）是系统管理员专用的二进制代码存放目录，主要用于系统管理</li><li><code>/usr/bin</code>后期安装的一些软件</li><li><code>/usr/sbin</code>超级用户的一些管理程序</li></ul><blockquote><code>cd</code>这个终端命令是内置在i同内核中，没有独立的文件，用which无法找到</blockquote><h5><strong>3.3切换用户</strong></h5><p>命令作用说明<code>su -用户名</code>切换用户，并且切换目录可以切换到用户家目录，否则保存位置不变<code>exit</code>退出当前登录用户</p><ul><li><code>su</code>不接用户名，能直接切换到<code>root</code>目录下，不推荐使用因为不安全</li><li><code>exit</code>示意图如下(只是返回到上一级用户)</li></ul><p><br></p><h4><strong>4.修改文献权限</strong></h4><p>命令作用<code>chown</code>修改拥有者<code>chgrp</code>修改组<code>chmod</code>修改权限</p><ul><li>命令格式如下</li></ul><pre class="ql-syntax" spellcheck="false">#修改文件|目录的拥有者
chown 用户名 文件名|目录名

#递归修改文件 |目录的组
chgrp -R 组名 文件名|目录名

#递归修改文件权限
chmod -R 755 文件名|目录名
</pre><p><code>chmod</code>在设置权限时，可以简单地使用三个数字分别对应<strong>拥有者/组</strong>和<strong>其他用户</strong></p><p><br></p><ul><li>之前的格式<code>chmod +/-rwx 文件名|目录名</code>（只能简单设置文件可读可写可执行权限，不能精确设置拥有者，组用户和其他命令权限）</li><li><code>chmod</code>在设置权限时，可以简单地使用三个数字分别对应拥有者/组和其他用户权限（能精准设置权限），数字含义如下所示</li><li><br></li><li>常用数字组合（u表示用户/g表示组/o表示其他）</li><li class="ql-indent-1">777===&gt;<code>u=rwx,g=rwx,o=rwx</code></li><li class="ql-indent-1">755===&gt;<code>u=rwx,g=rx,o=rx</code></li><li class="ql-indent-1">644===&gt;<code>u=rw,g=r,o=r</code></li></ul><blockquote>-R可以以递归的方式处理一个文件夹下所有权限</blockquote><h2><strong>9.系统信息</strong></h2><ul><li>查看服务器上当前系统日期和时间/磁盘空间</li></ul><h4><strong>1.日期和时间</strong></h4><p><code>date</code>可以查看当前系统时间</p><p><code>cal</code>查看日历，-y可以查看一年的日历</p><h4><strong>2.查看磁盘信息</strong></h4><p><code>df -h</code>    可以查看磁盘剩余空间(重点看根目录下)</p><p><code>du -h[目录名]</code>  显示 目录下所有子目录文件大小</p><blockquote>-h 可以以人性化的方式显示文件大小</blockquote><h4><strong>3.进程信息</strong></h4><ul><li>进程：当前正在执行的程序</li></ul><p><br></p><ul><li><code>ps</code>默认只会显示<strong>当前用户</strong>通过终端启动的应用程序</li><li>使用kill前要用<code>ps</code>查一下进程代号（PID）</li><li><code>ps</code>选项功能说明</li></ul><p><br></p><blockquote>使用kill命令时，最好只终止当前用户开启的进程，而不要终止<code>root</code>身份开启的进程，否则会导致系统崩溃</blockquote><blockquote>若想退出top，使用q即可</blockquote><h2><strong>10.其他命令</strong></h2><h4><strong>1.查找文件</strong></h4><ul><li><code>find</code>命令功能非常强大，通常用来在特定目录下搜索符合条件的文件</li><li><code>find [路径] -name "条件"</code></li></ul><blockquote>如果省略路径，表示在当前文件夹下查找</blockquote><blockquote>之前学习的通配符，在find命令下也适用</blockquote><p><br></p><h4><strong>2.软连接</strong></h4><p>类似于windows快捷方式，利用<code>ln -s 要建立链接文件完整路径 链接文件</code></p><blockquote>没有-s建立的是一个硬连接</blockquote><blockquote>源文件要用绝对路径，不能用相对路径，这样方便移动连接文件后仍能正常使用</blockquote><p>硬连接：将源文件删除后硬连接的文件不会受到影响，只有软连接会受到影响(文件另一个文件名)</p><p><br></p><blockquote>在Linux下，只有文件的硬连接数为0才能被删除</blockquote><blockquote>使用<code>ls-l</code>可以查看一个文件的硬连接数量</blockquote><blockquote>在日常工作中，几乎不会建立文件的硬连接数</blockquote><h4><strong>3.打包压缩</strong></h4><p>打包方式</p><ul><li>windows常用rar</li><li>Mac常用zip</li><li>Linux常用tar.gz</li></ul><p><code>tar</code>是Linux下最常用的备份工具，可以把一系列的文件打包到一个大文件中，也可以把一个打包的大文件恢复成一系列文件</p><p><br></p><blockquote>f选项必须放在最后，其他顺序可以随意</blockquote><blockquote>tar只打包不压缩</blockquote><p><strong>压缩/解压缩</strong></p><p>（1）<code>gzip</code></p><ul><li><code>tar</code>与<code>gzip</code>命令结合使用可以实现打包和压缩</li><li class="ql-indent-1"><code>tar</code></li><li class="ql-indent-1">用<code>gzip</code>压缩 <code>tar</code>打包后的文件，其拓展名一般用<code>xxx.tar.gz</code></li></ul><blockquote>在Linux下，最常见的压缩文件格式是<code>xxx.tar.gz</code></blockquote><ul><li>在<code>tar</code>命令中有一个选项-z可以调用<code>gzip</code>从而可以方便的实现压缩和解压缩的功能</li></ul><p><br></p><p>(2) <code>bzip2</code></p><p>用法和<code>gzip</code>大致相同，不同的压缩方式而已（z变成j而已）</p><p><br></p><blockquote>解压到指定路径也能像<code>gzip</code>那样，带一个-C并指定目标路径名(确保目标路径存在)</blockquote><h4><strong>4.软件安装与卸载</strong></h4><h5><strong>1.利用</strong><code><strong>apt</strong></code><strong>安装/写在软件</strong></h5><ul><li>apt是Linux下一款安装包工具</li><li>可以在终端方便的<strong>安装/卸载/更新软件包</strong></li></ul><p><br></p><h5><strong>2.配置软件源</strong></h5><ul><li>所有能够通过apt软件安装的软件包放在<code>ubuntu</code>主服务器</li><li>apt会在主服务器查找是否在主服务器有该软件安装包，如果有将安装包下载到本地，下载完成后执行安装</li><li class="ql-indent-1">软件源：提供所有软件安装的源头</li><li class="ql-indent-1">镜像源：主服务器的镜像</li></ul><p><code>ubuntu</code>服务器放在国外，如果通过国内网络访问国外服务器进行下载效率会非常慢（国内有公司提供了<code>Ubuntu</code>主服务器一模一样，如果apt能在镜像源下载安装包，能更快的安装软件）</p><blockquote>可以在图形界面软件和更新中选择镜像源</blockquote><p><br></p></div>
